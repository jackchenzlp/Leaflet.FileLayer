!function(){"use strict";var e={430:function(e,t,o){o.d(t,{oT:function(){return f}});var i=L,r=o.n(i),n=toGeoJSON,a=o.n(n);const l=r().Layer.extend({options:{layer:r().geoJson,layerOptions:{},fileSizeLimit:1024},initialize:function(e,t){this._map=e,r().Util.setOptions(this,t),this._parsers={geojson:this._loadGeoJSON,json:this._loadGeoJSON,gpx:this._convertToGeoJSON,kml:this._convertToGeoJSON}},load:function(e,t){var o,i;return!this._isParameterMissing(e,"file")&&!!this._isFileSizeOk(e.size)&&!!(o=this._getParser(e.name,t))&&((i=new FileReader).onload=r().Util.bind((function(t){var i;try{this.fire("data:loading",{filename:e.name,format:o.ext}),i=o.processor.call(this,t.target.result,o.ext),this.fire("data:loaded",{layer:i,filename:e.name,format:o.ext})}catch(e){this.fire("data:error",{error:e})}}),this),e.testing||i.readAsText(e),i)},loadMultiple:function(e,t){let o=[];if(e[0])for(e=Array.prototype.slice.apply(e);e.length>0;)o.push(this.load(e.shift(),t));return o},loadData:function(e,t,o){var i,r;if(!this._isParameterMissing(e,"data")&&!this._isParameterMissing(t,"name")&&this._isFileSizeOk(e.length)&&(i=this._getParser(t,o)))try{this.fire("data:loading",{filename:t,format:i.ext}),r=i.processor.call(this,e,i.ext),this.fire("data:loaded",{layer:r,filename:t,format:i.ext})}catch(e){this.fire("data:error",{error:e})}},_isParameterMissing:function(e,t){return void 0===e&&(this.fire("data:error",{error:new Error(`Missing parameter:${t}`)}),!0)},_getParser:function(e,t){var o;if(t=t||e.split(".").pop(),o=this._parsers[t])return{processor:o,ext:t};this.fire("data:error",{error:new Error(`Unsupported file type (${t})`)})},_isFileSizeOk:function(e){var t=(e/1024).toFixed(4);return!(t>this.options.fileSizeLimit&&(this.fire("data:error",{error:new Error(`File size exceeds limit (${t} > ${this.options.fileSizeLimit} 'kb)`)}),1))},_loadGeoJSON:function(e){var t;if("string"==typeof e&&(e=JSON.parse(e)),0===(t=this.options.layer(e,this.options.layerOptions)).getLayers().length)throw new Error("GeoJSON has no valid layers.");return this.options.addToMap&&t.addTo(this._map),t},_convertToGeoJSON:function(e,t){"string"==typeof e&&(e=(new window.DOMParser).parseFromString(e,"text/xml"));const o=a()[t](e);return this._loadGeoJSON(o)}}),s=r().Control.extend({options:{title:"Load local file (GPX, KML, GeoJSON)",position:"topleft",fitBounds:!0,layerOptions:{},addToMap:!0,fileSizeLimit:1024},initialize:function(e){r().Util.setOptions(this,e),this.loader=null},onAdd:function(e){return this.loader=r().FileLayer.fileLoader(e,this.options),this.loader.on("data:loaded",(function(t){this.options.fitBounds&&window.setTimeout((function(){e.fitBounds(t.layer.getBounds())}),500)}),this),this._initDragAndDrop(e),e.FileControl=this,this._createIcon()},_createIcon:function(){const e=this.loader;let t;const o="leaflet-control-filelayer leaflet-control-zoom",i="leaflet-bar",n=`${i}-part`,a=r().DomUtil.create("div",`${o}  ${i}`),l=r().DomUtil.create("a",`${o} -in ${n}`,a);return this.options.title&&(l.title=this.options.title),document.getElementById("browser-file-css")||this._appendControlStyles(a),l.href="#",t=r().DomUtil.create("input","hidden",a),t.type="file",t.multiple="multiple",this.options.formats?t.accept=this.options.formats.join(","):t.accept=".gpx,.kml,.json,.geojson",t.style.display="none",t.addEventListener("change",(function(){e.loadMultiple(this.files),this.value=""}),!1),r().DomEvent.disableClickPropagation(a),r().DomEvent.on(l,"click",(function(e){t.click(),e.preventDefault()})),a},_initDragAndDrop:function(e){var t,o=this.loader,i=e._container,r={dragenter:function(){e.scrollWheelZoom.disable()},dragleave:function(){e.scrollWheelZoom.enable()},dragover:function(e){e.stopPropagation(),e.preventDefault()},drop:function(t){t.stopPropagation(),t.preventDefault(),o.loadMultiple(t.dataTransfer.files),e.scrollWheelZoom.enable()}};for(t in r)r.hasOwnProperty(t)&&i.addEventListener(t,r[t],!1)},_appendControlStyles:function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.id="browser-file-css",t.innerHTML+=" .leaflet-control-filelayer { display: flex; } .leaflet-control-filelayer a { background: #fff url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoklEQVQ4T2NkoBAwUqifAWyAhoq523/Gf5UohjEyvr5561QYIQvABqirmf38z/Df5tat06dhGtTVzUIZ/jOEEjIEYoCq6f6bt087otsGNWQVDlf8vnnrFBteA/A5X13N7P/NW6cYRw0YPGGgZvb7P8N/K+SERCgFqquZgdIBKzga1dTMAhj//89nYGR0IKQRJs/475/jjTtnDlAnMxFrKzZ1ALrzaRGE3tGmAAAAAElFTkSuQmCC') no-repeat 5px; background-size: 16px 16px; display: block; border-radius: 2px; }",t.innerHTML+=" .leaflet-control-filelayer a.leaflet-control-filelayer { background-position: center; }",e.appendChild(t)}}),d={FileLoader:l,fileLoader:function(e,t){return new l(e,t)}},f={fileLayerLoad:function(e){return new s(e)}};r().FileLayer=d,r().Control.FileLayerLoad=s,r().Control.fileLayerLoad=f.fileLayerLoad}},t={};function o(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,o),n.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e=o(430),t=L.map("map").setView([51.505,1],6);L.tileLayer("//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(t),L.circle([51.505,1],5e5,{color:"red",fillColor:"#f03",fillOpacity:.5}).addTo(t),L.circle([55,5],5e4,{color:"green",fillColor:"darkgreen",fillOpacity:.8}).addTo(t);var i={color:"red",opacity:1,fillOpacity:1,weight:2,clickable:!1},r=e.oT.fileLayerLoad({fitBounds:!0,layerOptions:{style:i,pointToLayer:function(e,t){return L.circleMarker(t,{style:i})}}});r.addTo(t),r.loader.on("data:loaded",(function(e){var t=e.layer;console.log(t)}))}()}();